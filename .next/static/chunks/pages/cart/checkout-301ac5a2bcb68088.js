(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{1072:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart/checkout",function(){return s(5973)}])},4427:function(e,n,s){"use strict";var t=s(5893);n.Z=function(){return(0,t.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"650.000000pt",height:"650.000000pt",viewBox:"0 0 650.000000 650.000000",preserveAspectRatio:"xMidYMid meet",className:"logo",children:(0,t.jsx)("g",{transform:"translate(0.000000,650.000000) scale(0.100000,-0.100000)",stroke:"none",children:(0,t.jsx)("path",{d:"M2462 4223 c-11 -10 -158 -261 -328 -558 -411 -722 -826 -1448 -1259 -2205 -197 -344 -367 -644 -377 -667 -20 -44 -13 -83 15 -83 7 0 902 -1 1990 -1 1507 0 1982 3 1993 12 8 6 14 21 14 33 0 12 -42 95 -93 186 -121 215 -1039 1818 -1082 1890 -39 65 -290 505 -383 670 -195 349 -409 717 -422 727 -21 17 -45 16 -68 -4z m138 -281 c95 -168 121 -213 218 -373 38 -63 111 -189 162 -280 51 -90 167 -294 258 -454 90 -159 241 -425 335 -590 93 -165 204 -361 247 -435 90 -157 183 -321 265 -470 32 -58 90 -157 129 -220 79 -131 120 -210 112 -218 -7 -6 -25 9 -568 478 -232 201 -486 419 -564 485 -78 66 -256 218 -394 337 -268 231 -290 245 -346 215 -16 -9 -137 -109 -269 -222 -414 -358 -1281 -1100 -1469 -1260 l-59 -50 37 73 c20 40 54 101 75 136 22 35 90 153 151 262 146 258 337 594 463 814 55 96 139 243 185 325 46 83 141 249 210 370 68 121 154 272 190 335 36 63 122 212 192 330 69 118 173 297 230 397 75 131 107 179 116 173 6 -6 48 -76 94 -158z m-28 -1660 c29 -27 136 -120 238 -206 102 -87 212 -182 245 -211 214 -187 938 -810 1098 -943 75 -63 137 -119 137 -124 0 -4 -805 -8 -1790 -8 -1114 0 -1790 4 -1790 9 0 6 24 30 52 54 181 154 1541 1322 1641 1409 42 37 86 68 96 68 11 0 43 -22 73 -48z",transform:"translate(-416 -424)"})})})}},6322:function(e,n,s){"use strict";var t=s(5893);n.Z=function(e){var n=e.step;return(0,t.jsx)("div",{className:"checkout-status",children:(0,t.jsxs)("ul",{className:"checkout-steps",children:[(0,t.jsx)("li",{className:"".concat("cart"===n?"active":"done"),children:(0,t.jsx)("i",{className:"icon-cart"})}),(0,t.jsx)("li",{className:"".concat("checkout"===n?"active":"done"),children:(0,t.jsx)("i",{className:"icon-delivery"})})]})})}},7778:function(e,n,s){"use strict";var t=s(5893),c=s(1664),r=s.n(c),a=s(1163),i=s.n(a),o=s(7294),l=s(5617),d=s(5815),u=s(4427),h=s(239);n.Z=function(e){var n=e.isErrorPage,s=(0,a.useRouter)(),c=(0,l.v9)((function(e){return e.cart})).cartItems,m=["/"],x=(0,o.useState)(!(!m.includes(s.pathname)||n)),p=x[0],j=x[1],f=(0,o.useState)(!1),v=f[0],g=f[1],N=(0,o.useState)(!1),k=N[0],b=N[1],_=(0,o.useRef)(null),w=(0,o.useRef)(null),y=function(){0===window.pageYOffset?j(!0):j(!1)};(0,o.useEffect)((function(){m.includes(s.pathname)&&!n&&(y(),window.onscroll=function(){y()})}),[]);(0,d.Z)(_,(function(){g(!1)})),(0,d.Z)(w,(function(){b(!1)}));var S=(0,h.J)().logOut,C=(0,o.useState)(),P=C[0],R=C[1];return(0,o.useEffect)((function(){var e=localStorage.getItem("user");"Admin"!==e&&e&&R(JSON.parse(e))}),[]),(0,t.jsx)("header",{className:"site-header ".concat(p?"":"site-header--fixed"),children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(r(),{href:"/",style:{marginRight:"-100px"},children:(0,t.jsx)("a",{children:(0,t.jsxs)("h1",{className:"site-logo",children:[(0,t.jsx)(u.Z,{}),(0,t.jsxs)("div",{className:"brand-logo",children:["Sole Authenticity",(0,t.jsx)("br",{}),(0,t.jsx)("div",{style:{fontSize:"10px",textAlign:"center",paddingTop:"10px"},children:"Identity - Responsibility - Prestige"})]})]})})}),(0,t.jsxs)("nav",{ref:_,className:"site-nav ".concat(v?"site-nav--open":""),children:[(0,t.jsx)(r(),{href:"/reviews",children:(0,t.jsx)("a",{className:"nav-link nav-link-grow-up",href:"#",children:"Reviews"})}),(0,t.jsx)(r(),{href:"/about",children:(0,t.jsx)("a",{className:"nav-link nav-link-grow-up",href:"#",children:"About"})}),(0,t.jsx)(r(),{href:"/products",children:(0,t.jsx)("a",{className:"nav-link nav-link-grow-up",href:"#",children:"Shop"})}),(0,t.jsx)(r(),{href:"/stores",children:(0,t.jsx)("a",{className:"nav-link nav-link-grow-up",href:"#",children:"Store"})}),(0,t.jsx)(r(),{href:"/brands",children:(0,t.jsx)("a",{className:"nav-link nav-link-grow-up",href:"#",children:"Brands"})}),(0,t.jsx)("button",{className:"site-nav__btn",children:P?(0,t.jsx)(o.Fragment,{children:(0,t.jsx)("a",{children:"$accountUser"})}):(0,t.jsx)("a",{children:"Account"})})]}),(0,t.jsxs)("div",{className:"site-header__actions",children:[(0,t.jsxs)("button",{ref:w,className:"search-form-wrapper ".concat(k?"search-form--active":""),children:[(0,t.jsxs)("form",{className:"search-form",children:[(0,t.jsx)("i",{className:"icon-cancel",onClick:function(){return b(!k)}}),(0,t.jsx)("input",{type:"text",name:"search",placeholder:"Searching....."})]}),(0,t.jsx)("i",{onClick:function(){return b(!k)},className:"icon-search"})]}),(0,t.jsx)(r(),{href:"/cart",children:(0,t.jsxs)("button",{className:"btn-cart",children:[(0,t.jsx)("i",{className:"icon-cart"}),c.length>0&&(0,t.jsx)("span",{className:"btn-cart__count",children:c.length})]})}),(0,t.jsxs)("div",{className:"dropdown",children:[(0,t.jsx)("button",{className:"site-header__btn-avatar",children:(0,t.jsx)("i",{className:"icon-avatar"})}),(0,t.jsx)("div",{className:"dropdown-content",children:P?(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)("a",{style:{borderRadius:"10px 10px 0 0",cursor:"pointer"},children:"".concat(P.name)}),(0,t.jsxs)("a",{type:"button",onClick:function(){S(),localStorage.removeItem("user"),i().push("/login")},style:{borderRadius:"0 0 10px 10px",cursor:"pointer"},children:[(0,t.jsx)("img",{src:"/images/logos/logout.png"}),"Log Out"]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r(),{href:"/login",children:(0,t.jsx)("div",{style:{borderRadius:"10px",cursor:"pointer"},children:(0,t.jsxs)("a",{children:[(0,t.jsx)("img",{src:"/images/logos/enter.png"}),"Log In"]})})})})})]}),(0,t.jsx)("button",{onClick:function(){return g(!0)},className:"site-header__btn-menu",children:(0,t.jsx)("i",{className:"btn-hamburger",children:(0,t.jsx)("span",{})})})]})]})})}},1659:function(e,n,s){"use strict";s.d(n,{Z:function(){return o}});var t=s(5893),c=s(9008),r=s.n(c),a=s(7778),i=s(1163);function o(e){var n=e.children,s=e.title,c=void 0===s?"SoleAuthenticity":s,o=(0,i.useRouter)().pathname;return(0,t.jsxs)("div",{className:"app-main",children:[(0,t.jsx)(r(),{children:(0,t.jsx)("title",{children:c})}),(0,t.jsx)(a.Z,{}),(0,t.jsx)("main",{className:"/"!==o?"main-page":"",children:n})]})}},5973:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return b}});var t=s(4051),c=s.n(t),r=s(5893),a=s(6486),i=s(1664),o=s.n(i),l=s(1163),d=s(7294),u=s(3253),h=s.n(u),m=s(5617),x=s(2920),p=(s(4213),s(1502)),j=s(6322);s(5675);function f(e,n,s,t,c,r,a){try{var i=e[r](a),o=i.value}catch(l){return void s(l)}i.done?n(o):Promise.resolve(o).then(t,c)}var v=function(){var e=(0,m.v9)((function(e){return e.cart})).cartItems,n=(0,d.useState)(),s=n[0],t=n[1];return(0,d.useEffect)((function(){var n=function(){var n,s=(n=c().mark((function n(){var s,r,a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://soleauthenticity.azurewebsites.net/api/products/cus");case 2:return s=n.sent,n.next=5,s.json();case 5:r=n.sent,a=e.map((function(e){return e.id})),i=r.data.filter((function(e){return a.includes(e.id)})),console.log("New arr",i),t(i);case 10:case"end":return n.stop()}}),n)})),function(){var e=this,s=arguments;return new Promise((function(t,c){var r=n.apply(e,s);function a(e){f(r,t,c,a,i,"next",e)}function i(e){f(r,t,c,a,i,"throw",e)}a(void 0)}))});return function(){return s.apply(this,arguments)}}();n()}),[e]),(0,r.jsx)("ul",{className:"checkout-items",children:e.map((function(e){var n,t,c=null===s||void 0===s?void 0:s.filter((function(n){return n.id===e.id}));return(0,r.jsxs)("li",{className:"checkout-item",children:[(0,r.jsxs)("div",{className:"checkout-item__content",children:[(0,r.jsx)("div",{className:"checkout-item__img",children:(0,r.jsx)("img",{src:c&&c.length>0&&null!==(t=null===(n=c.slice(0,1).shift())||void 0===n?void 0:n.imgPath)&&void 0!==t?t:"",width:500,height:500,alt:"product"})}),(0,r.jsxs)("div",{className:"checkout-item__data",children:[(0,r.jsx)("h3",{children:e.name}),(0,r.jsxs)("span",{children:["#",e.id]})]})]}),(0,r.jsxs)("h3",{children:[e.salePrice?e.salePrice:e.noDiscount,"\u0111"]})]},e.id)}))})},g=s(1659);function N(e,n,s,t,c,r,a){try{var i=e[r](a),o=i.value}catch(l){return void s(l)}i.done?n(o):Promise.resolve(o).then(t,c)}function k(e){return function(){var n=this,s=arguments;return new Promise((function(t,c){var r=e.apply(n,s);function a(e){N(r,t,c,a,i,"next",e)}function i(e){N(r,t,c,a,i,"throw",e)}a(void 0)}))}}var b=function(){var e=(0,m.I0)(),n=(0,l.useRouter)(),s=(0,d.useState)(""),t=s[0],i=s[1],u=[],f=(0,m.v9)((function(e){var n=e.cart.cartItems,s=0;return n.length>0&&n.map((function(e){null!=e.salePrice?s+=e.salePrice*e.count:s+=e.noDiscount*e.count})),s})),N=(0,m.v9)((function(e){return e.cart.cartItems})),b=(0,m.v9)((function(e){var n=e.cart.cartItems;return n.length>0&&n.map((function(e){u.push(parseInt(e.id))})),u})),_=[],w=(0,m.v9)((function(e){var n=e.cart.cartItems;return n.length>0&&n.map((function(e){_.push(e.count)})),_})),y=(0,d.useState)(),S=y[0],C=y[1];(0,d.useEffect)((function(){var e=localStorage.getItem("user");e&&C(JSON.parse(e))}),[]);var P=(0,a.debounce)((function(e){i(e.target.value)}),500);function R(){return(R=k(c().mark((function s(){var r,a,i,o;return c().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""==t){s.next=23;break}return r={totalPrice:f,customerId:null===S||void 0===S?void 0:S._id,shippingAddress:t},s.next=4,fetch("https://soleauthenticity.azurewebsites.net/api/orders/order",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:return a=s.sent,s.next=7,a.json();case 7:return i=s.sent,s.prev=8,o=b.map((function(e,n){var s={orderId:i.data,productId:e,quantity:w[n]};return fetch("https://soleauthenticity.azurewebsites.net/api/order-details/order-detail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})})),s.next=12,Promise.all(o);case 12:null!=s.sent?x.Am.success("\u0110\u1eb7t h\xe0ng th\xe0nh c\xf4ng"):x.Am.error("\u0110\u01a1n h\xe0ng kh\xf4ng h\u1ee3p l\u1ec7, xin vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin"),e((0,p.kh)(N)),n.push("/"),s.next=21;break;case 18:s.prev=18,s.t0=s.catch(8),console.log(s.t0);case 21:s.next=24;break;case 23:x.Am.error("\u0110\u01a1n h\xe0ng kh\xf4ng h\u1ee3p l\u1ec7, xin vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin");case 24:case"end":return s.stop()}}),s,null,[[8,18]])})))).apply(this,arguments)}console.log("Address: ",t);var I=(0,d.useState)("COD"),E=I[0],O=I[1],A=(0,d.useState)(null),B=A[0],q=A[1],Z=(0,d.useState)(!1),T=Z[0],z=Z[1],D=function(e){q(e),z(!0)},L=function(){z(!1),q(null)};return(0,r.jsx)(g.Z,{children:(0,r.jsx)("section",{className:"cart",children:(0,r.jsx)("form",{className:"form",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"cart__intro",children:[(0,r.jsx)("h3",{className:"cart__title",children:"Shipping and Payment"}),(0,r.jsx)(j.Z,{step:"checkout"})]}),(0,r.jsxs)("div",{className:"checkout-content",children:[(0,r.jsxs)("div",{className:"checkout__col-6",children:[(0,r.jsx)("div",{className:"checkout__btns",children:S?(0,r.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),n.push("/cart/checkout")},style:{borderRadius:"10px 10px 0 0",cursor:"pointer"},children:"".concat(S.name)}):(0,r.jsx)(o(),{href:"/login",children:(0,r.jsx)("div",{children:(0,r.jsx)("a",{style:{borderRadius:"10px"},children:(0,r.jsx)("button",{className:"btn btn--rounded btn--yellow",children:"Log in"})})})})}),(0,r.jsx)("div",{className:"block",children:S?(0,r.jsxs)("a",{children:[(0,r.jsx)("h3",{className:"block__title",children:"Shipping information"}),(0,r.jsx)("div",{className:"form__input-row form__input-row--two",children:(0,r.jsx)("div",{className:"form__col",children:(0,r.jsx)("textarea",{className:"form__input form__input--sm",placeholder:"Address",required:!0,onChange:P})})})]}):""})]}),(0,r.jsxs)("div",{className:"checkout__col-4",children:[(0,r.jsxs)("div",{className:"block",children:[(0,r.jsx)("h3",{className:"block__title",children:"Payment method"}),(0,r.jsx)("div",{className:"payment-options",children:(0,r.jsxs)("select",{className:"payment-select",value:E,onChange:function(e){O(e.target.value)},children:[(0,r.jsx)("option",{value:"COD",children:"COD"}),(0,r.jsx)("option",{value:"E-Banking",children:"E-Banking"})]})})]}),"E-Banking"===E&&(0,r.jsxs)("div",{className:"qr-code-container",children:[(0,r.jsx)("div",{className:"notice",children:(0,r.jsx)("p",{className:"qr-code-notice",children:(0,r.jsx)("strong",{children:"Nh\u1ea5n v\xf4 h\xecnh \u0111\u1ec3 d\u1ec5 qu\xe9t m\xe3 QR d\u1ec5 h\u01a1n"})})}),(0,r.jsxs)("div",{className:"qr-codes-wrapper",children:[(0,r.jsx)("div",{className:"qr-code-item",children:(0,r.jsx)("img",{className:"QR-Banking",src:"\\images\\e-banking.jpg",alt:"E-Banking",onClick:function(){return D("eBanking")}})}),(0,r.jsx)("span",{className:"or-span",children:"ho\u1eb7c"}),(0,r.jsx)("div",{className:"qr-code-item",children:(0,r.jsx)("img",{className:"QR-Banking",src:"\\images\\momo.jpg",alt:"Momo",onClick:function(){return D("momo")}})})]}),(0,r.jsxs)("div",{className:"notice-banking",children:[(0,r.jsxs)("p",{className:"qr-code-notice",children:[(0,r.jsx)("strong",{children:"*L\u01b0u \xfd:"}),"C\xe1c b\u1ea1n nh\u1edb ghi r\xf5 n\u1ed9i dung nh\u01b0 sau:"]}),(0,r.jsx)("p",{className:"qr-code-notice",children:"`H\u1ecd v\xe0 t\xean` \u0111\xe3 g\u1eedi ti\u1ec1n `T\xean s\u1ea3n ph\u1ea9m`"})]})]}),(0,r.jsxs)(h(),{className:"banking-modal",isOpen:T,onRequestClose:L,contentLabel:"QR Code Modal",children:["eBanking"===B&&(0,r.jsx)("img",{className:"model-bankingimg",src:"\\images\\e-banking.jpg",alt:"E-Banking"}),"momo"===B&&(0,r.jsx)("img",{className:"model-bankingimg",src:"\\images\\momo.jpg",alt:"Momo"}),(0,r.jsx)("button",{className:"close-modal",onClick:L,children:"X"})]})]}),(0,r.jsx)("div",{className:"checkout__col-2",children:(0,r.jsxs)("div",{className:"block",children:[(0,r.jsx)("h3",{className:"block__title",children:"Your cart"}),(0,r.jsx)(v,{}),(0,r.jsxs)("div",{className:"checkout-total",children:[(0,r.jsx)("p",{children:"Total cost"}),(0,r.jsxs)("h3",{children:[f," \u0111"]})]})]})})]}),(0,r.jsxs)("div",{className:"cart-actions cart-actions--checkout",children:[(0,r.jsx)(o(),{href:"/cart",children:(0,r.jsxs)("a",{className:"cart__btn-back",children:[(0,r.jsx)("i",{className:"icon-left"})," Back"]})}),(0,r.jsxs)("div",{className:"cart-actions__items-wrapper",children:[(0,r.jsx)("button",{type:"button",className:"btn btn--rounded btn--border",children:"Continue shopping"}),S?(0,r.jsx)("button",{onClick:function(){return function(){return R.apply(this,arguments)}()},type:"button",className:"btn btn--rounded btn--yellow",children:"Proceed to payment"}):(0,r.jsx)(o(),{href:"/login",children:(0,r.jsx)("a",{children:"Log In"})}),(0,r.jsx)(x.Ix,{})]})]})]})})})})}}},function(e){e.O(0,[964,675,353,709,774,888,179],(function(){return n=1072,e(e.s=n);var n}));var n=e.O();_N_E=n}]);